

*********************ADDRESS****************************************
CREATE TABLE ADDRESS 
(
  ID VARCHAR2(300 BYTE) NOT NULL 
, FLATNO VARCHAR2(300 BYTE) 
, STREET VARCHAR2(300 BYTE) 
, LANDMARK VARCHAR2(300 BYTE) 
, CITY VARCHAR2(300 BYTE) 
, STATE VARCHAR2(300 BYTE) 
, COUNTRY VARCHAR2(300 BYTE) 
, PINCODE NUMBER 
, CONSTRAINT ADDRESS_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX ADDRESS_PK ON ADDRESS (ID ASC) 
      LOGGING 
      TABLESPACE SYSTEM 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE SYSTEM 
PCTFREE 10 
PCTUSED 40 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  FREELISTS 1 
  FREELIST GROUPS 1 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

********************************CONFIRMATION_TOKEN********************************
CREATE TABLE CONFIRMATION_TOKEN 
(
  ID VARCHAR2(300 CHAR) NOT NULL 
, CONFIRMATION_TOKEN VARCHAR2(255 CHAR) 
, CREATED_DATE TIMESTAMP(6) 
, USER_ID VARCHAR2(300 CHAR) NOT NULL 
, CONSTRAINT SYS_C007055 PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX SYS_C007055 ON CONFIRMATION_TOKEN (ID ASC) 
      LOGGING 
      TABLESPACE SYSTEM 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE SYSTEM 
PCTFREE 10 
PCTUSED 40 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  FREELISTS 1 
  FREELIST GROUPS 1 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE CONFIRMATION_TOKEN
ADD CONSTRAINT FKTKEN6N2N71ETAOBD1U7UWX3S3 FOREIGN KEY
(
  USER_ID 
)
REFERENCES USER_DETAILS
(
  ID 
)
ENABLE;

******************************ROLE**********************************************
CREATE TABLE ROLE 
(
  ID VARCHAR2(300 BYTE) NOT NULL 
, NAME VARCHAR2(300 BYTE) NOT NULL 
, CONSTRAINT ROLE_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX ROLE_PK ON ROLE (ID ASC) 
      LOGGING 
      TABLESPACE SYSTEM 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE SYSTEM 
PCTFREE 10 
PCTUSED 40 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  FREELISTS 1 
  FREELIST GROUPS 1 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;
*******************************USER_ADDRESS***********************************
CREATE TABLE USER_ADDRESS 
(
  USER_ID VARCHAR2(300 BYTE) NOT NULL 
, ADDRESS_ID VARCHAR2(300 BYTE) NOT NULL 
) 
LOGGING 
TABLESPACE SYSTEM 
PCTFREE 10 
PCTUSED 40 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  FREELISTS 1 
  FREELIST GROUPS 1 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE USER_ADDRESS
ADD CONSTRAINT FK7GAHV997UJKTMA81LDYTW9RVL FOREIGN KEY
(
  ADDRESS_ID 
)
REFERENCES USER_DETAILS
(
  ID 
)
ENABLE;

ALTER TABLE USER_ADDRESS
ADD CONSTRAINT FKHGR5O1XOEAU1U3A9XLP3VBV FOREIGN KEY
(
  USER_ID 
)
REFERENCES ADDRESS
(
  ID 
)
ENABLE;

ALTER TABLE USER_ADDRESS
ADD CONSTRAINT USER_ADDRESS_FK1 FOREIGN KEY
(
  ADDRESS_ID 
)
REFERENCES ADDRESS
(
  ID 
)
ENABLE;

ALTER TABLE USER_ADDRESS
ADD CONSTRAINT USER_ADDRESS_FK2 FOREIGN KEY
(
  USER_ID 
)
REFERENCES USER_DETAILS
(
  ID 
)
ENABLE;
*******************************USER_ROLE*****************************************
CREATE TABLE USER_ROLE 
(
  USER_ID VARCHAR2(300 BYTE) NOT NULL 
, ROLE_ID VARCHAR2(300 BYTE) DEFAULT USER NOT NULL 
) 
LOGGING 
TABLESPACE SYSTEM 
PCTFREE 10 
PCTUSED 40 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  FREELISTS 1 
  FREELIST GROUPS 1 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE USER_ROLE
ADD CONSTRAINT USER_ROLE_FK1 FOREIGN KEY
(
  USER_ID 
)
REFERENCES USER_DETAILS
(
  ID 
)
ENABLE;

ALTER TABLE USER_ROLE
ADD CONSTRAINT USER_ROLE_FK2 FOREIGN KEY
(
  ROLE_ID 
)
REFERENCES ROLE
(
  ID 
)
ENABLE;
************************************USER_DETAILS******************************
CREATE TABLE USER_DETAILS 
(
  ID VARCHAR2(300 BYTE) NOT NULL 
, NAME VARCHAR2(300 BYTE) NOT NULL 
, PHONE NUMBER NOT NULL 
, EMAIL VARCHAR2(300 BYTE) NOT NULL 
, DOB DATE NOT NULL 
, GENDER VARCHAR2(20 BYTE) NOT NULL 
, PASSWORD VARCHAR2(300 BYTE) NOT NULL 
, ENABLED CHAR(3 BYTE) 
, CONSTRAINT USER_DETAILS_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX USER_DETAILS_PK ON USER_DETAILS (ID ASC) 
      LOGGING 
      TABLESPACE SYSTEM 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE SYSTEM 
PCTFREE 10 
PCTUSED 40 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  FREELISTS 1 
  FREELIST GROUPS 1 
  BUFFER_POOL DEFAULT 
) 
NOPARALLEL;

ALTER TABLE USER_DETAILS
ADD CONSTRAINT USER_DETAILS_UK1 UNIQUE 
(
  PHONE 
)
USING INDEX 
(
    CREATE UNIQUE INDEX USER_DETAILS_UK1 ON USER_DETAILS (PHONE ASC) 
    LOGGING 
    TABLESPACE SYSTEM 
    PCTFREE 10 
    INITRANS 2 
    STORAGE 
    ( 
      INITIAL 65536 
      NEXT 1048576 
      MINEXTENTS 1 
      MAXEXTENTS UNLIMITED 
      FREELISTS 1 
      FREELIST GROUPS 1 
      BUFFER_POOL DEFAULT 
    ) 
    NOPARALLEL 
)
 ENABLE;

ALTER TABLE USER_DETAILS
ADD CONSTRAINT USER_DETAILS_UK2 UNIQUE 
(
  EMAIL 
)
USING INDEX 
(
    CREATE UNIQUE INDEX USER_DETAILS_UK2 ON USER_DETAILS (EMAIL ASC) 
    LOGGING 
    TABLESPACE SYSTEM 
    PCTFREE 10 
    INITRANS 2 
    STORAGE 
    ( 
      INITIAL 65536 
      NEXT 1048576 
      MINEXTENTS 1 
      MAXEXTENTS UNLIMITED 
      FREELISTS 1 
      FREELIST GROUPS 1 
      BUFFER_POOL DEFAULT 
    ) 
    NOPARALLEL 
)
 ENABLE;
